# B站链接转换器使用指南

我已经为你创建了多种版本的B站链接转换脚本，可以输入B站分享链接，自动处理中间步骤，直接返回公网可访问的视频链接。

## 📁 文件说明

### 1. `bilibili_link_converter.py` - 完整功能版本
最全面的Python脚本，支持命令行和交互模式。

**特点:**
- 支持命令行参数
- 支持交互模式
- 详细的错误处理和提示
- 可作为Python模块导入

**使用方法:**
```bash
# 命令行模式
python bilibili_link_converter.py "https://www.bilibili.com/video/BV1234567890"

# 交互模式
python bilibili_link_converter.py

# 查看帮助
python bilibili_link_converter.py --help
```

### 2. `quick_convert.py` - 快速转换版本
轻量级脚本，适合快速转换。

**使用方法:**
```bash
python quick_convert.py "https://www.bilibili.com/video/BV1234567890"
```

### 3. `convert_bili_link.sh` - Shell脚本版本
Linux/macOS用户的命令行工具。

**使用方法:**
```bash
# 给脚本执行权限（首次使用）
chmod +x convert_bili_link.sh

# 使用
./convert_bili_link.sh "https://www.bilibili.com/video/BV1234567890"
```

**特点:**
- 自动复制链接到剪贴板（如果系统支持）
- 友好的命令行界面

### 4. `gui_converter.py` - 图形界面版本
适合不熟悉命令行的用户。

**使用方法:**
```bash
python gui_converter.py
```

**特点:**
- 直观的图形界面
- 一键复制功能
- 实时状态显示

## 🔧 支持的链接格式

所有脚本都支持以下B站链接格式：

1. **标准链接**: `https://www.bilibili.com/video/BVxxxxxxxxxx`
2. **手机端链接**: `https://m.bilibili.com/video/BVxxxxxxxxxx`
3. **短链接**: `https://b23.tv/xxxxxxx`
4. **带参数链接**: 
   - `?p=2` - 指定分P页面
   - `?t=30` - 指定开始时间

## 📖 使用示例

### 示例1: 快速获取链接
```bash
python quick_convert.py "https://www.bilibili.com/video/BV1GJ411x7h7"
```

### 示例2: 处理分P视频
```bash
python bilibili_link_converter.py "https://www.bilibili.com/video/BV1GJ411x7h7?p=2"
```

### 示例3: 处理短链接
```bash
./convert_bili_link.sh "https://b23.tv/abc123"
```

### 示例4: 交互模式使用
```bash
python bilibili_link_converter.py
# 然后按提示输入链接
```

## ⚙️ 作为Python模块使用

你也可以在自己的Python项目中导入使用：

```python
import asyncio
from bilibili_link_converter import get_public_link

async def main():
    url = "https://www.bilibili.com/video/BV1234567890"
    result = await get_public_link(url)
    
    if result['success']:
        print(f"公网链接: {result['data']['public_url']}")
    else:
        print(f"转换失败: {result['error']}")

asyncio.run(main())
```

## 🚀 推荐使用方式

1. **日常快速使用**: `quick_convert.py`
2. **需要详细信息**: `bilibili_link_converter.py`
3. **Linux/macOS终端**: `convert_bili_link.sh`
4. **图形界面**: `gui_converter.py`

## ⚠️ 注意事项

1. **网络要求**: 需要能访问B站API
2. **链接时效**: 返回的公网链接有时效性，建议及时使用
3. **高清视频**: 获取高清视频可能需要有效的SESSDATA（可在data.json中配置）
4. **使用限制**: 请遵守B站服务条款，合理使用

## 🛠️ 依赖安装

确保已安装所需依赖：

```bash
# 基础依赖
pip install requests fastapi uvicorn slowapi aiohttp

# GUI版本额外需要（通常Python自带）
pip install tkinter
```

## 📝 输出格式

成功转换后，你将获得：
- **原始BVID**: 视频ID
- **分P页面**: 如果是多P视频
- **时间参数**: 如果有指定开始时间
- **公网链接**: 可直接访问的视频链接

现在你可以选择任意一个脚本来使用，只需要输入B站链接，就能自动获取公网可访问的视频链接！